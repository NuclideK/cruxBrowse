(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function h(){}function Q(e){return e()}function G(){return Object.create(null)}function E(e){e.forEach(Q)}function V(e){return typeof e=="function"}function F(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let j;function Z(e,t){return j||(j=document.createElement("a")),j.href=t,e===j.href}function ee(e){return Object.keys(e).length===0}function x(e,t){e.appendChild(t)}function v(e,t,n){e.insertBefore(t,n||null)}function m(e){e.parentNode&&e.parentNode.removeChild(e)}function w(e){return document.createElement(e)}function W(e){return document.createTextNode(e)}function P(){return W(" ")}function D(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function p(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function te(e){return Array.from(e.childNodes)}function ne(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function U(e,t){e.value=t??""}function re(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n,r,t),o}let N;function O(e){N=e}function oe(){if(!N)throw new Error("Function called outside component initialization");return N}function ie(){const e=oe();return(t,n,{cancelable:r=!1}={})=>{const o=e.$$.callbacks[t];if(o){const i=re(t,n,{cancelable:r});return o.slice().forEach(u=>{u.call(e,i)}),!i.defaultPrevented}return!0}}const $=[],q=[],A=[],I=[],se=Promise.resolve();let B=!1;function le(){B||(B=!0,se.then(X))}function K(e){A.push(e)}function ue(e){I.push(e)}const T=new Set;let y=0;function X(){if(y!==0)return;const e=N;do{try{for(;y<$.length;){const t=$[y];y++,O(t),ce(t.$$)}}catch(t){throw $.length=0,y=0,t}for(O(null),$.length=0,y=0;q.length;)q.pop()();for(let t=0;t<A.length;t+=1){const n=A[t];T.has(n)||(T.add(n),n())}A.length=0}while($.length);for(;I.length;)I.pop()();B=!1,T.clear(),O(e)}function ce(e){if(e.fragment!==null){e.update(),E(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(K)}}const L=new Set;let g;function fe(){g={r:0,c:[],p:g}}function ae(){g.r||E(g.c),g=g.p}function b(e,t){e&&e.i&&(L.delete(e),e.i(t))}function C(e,t,n,r){if(e&&e.o){if(L.has(e))return;L.add(e),g.c.push(()=>{L.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function de(e,t,n){const r=e.$$.props[t];r!==void 0&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function Y(e){e&&e.c()}function J(e,t,n,r){const{fragment:o,after_update:i}=e.$$;o&&o.m(t,n),r||K(()=>{const u=e.$$.on_mount.map(Q).filter(V);e.$$.on_destroy?e.$$.on_destroy.push(...u):E(u),e.$$.on_mount=[]}),i.forEach(K)}function M(e,t){const n=e.$$;n.fragment!==null&&(E(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function pe(e,t){e.$$.dirty[0]===-1&&($.push(e),le(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function R(e,t,n,r,o,i,u,c=[-1]){const a=N;O(e);const l=e.$$={fragment:null,ctx:[],props:i,update:h,not_equal:o,bound:G(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:G(),dirty:c,skip_bound:!1,root:t.target||a.$$.root};u&&u(l.root);let f=!1;if(l.ctx=n?n(e,t.props||{},(s,d,..._)=>{const k=_.length?_[0]:d;return l.ctx&&o(l.ctx[s],l.ctx[s]=k)&&(!l.skip_bound&&l.bound[s]&&l.bound[s](k),f&&pe(e,s)),d}):[],l.update(),f=!0,E(l.before_update),l.fragment=r?r(l.ctx):!1,t.target){if(t.hydrate){const s=te(t.target);l.fragment&&l.fragment.l(s),s.forEach(m)}else l.fragment&&l.fragment.c();t.intro&&b(e.$$.fragment),J(e,t.target,t.anchor,t.customElement),X()}O(a)}class z{$destroy(){M(this,1),this.$destroy=h}$on(t,n){if(!V(n))return h;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(t){this.$$set&&!ee(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function _e(e){let t,n,r,o,i,u;return{c(){t=w("div"),n=w("input"),r=P(),o=w("button"),o.textContent="LOAD STATS",p(n,"placeholder","Enter website URL here"),p(n,"class","svelte-rpea6x"),p(o,"class","svelte-rpea6x"),p(t,"id","barContainer"),p(t,"class","svelte-rpea6x")},m(c,a){v(c,t,a),x(t,n),U(n,e[0]),x(t,r),x(t,o),i||(u=[D(n,"input",e[2]),D(o,"click",e[1])],i=!0)},p(c,[a]){a&1&&n.value!==c[0]&&U(n,c[0])},i:h,o:h,d(c){c&&m(t),i=!1,E(u)}}}function he(e,t,n){let{url:r=""}=t;const o=ie();function i(){o("loadStat",{url:r})}function u(){r=this.value,n(0,r)}return e.$$set=c=>{"url"in c&&n(0,r=c.url)},[r,i,u]}class me extends z{constructor(t){super(),R(this,t,he,_e,F,{url:0})}}function ge(e){let t,n,r,o,i,u,c;return{c(){t=w("script"),r=P(),o=w("div"),i=w("div"),Z(t.src,n="https://cdn.plot.ly/plotly-2.18.0.min.js")||p(t,"src",n),p(i,"id","owo"),p(i,"class","svelte-iuq8p"),p(o,"id","owo-container"),p(o,"class","svelte-iuq8p")},m(a,l){x(document.head,t),v(a,r,l),v(a,o,l),x(o,i),e[3](i),u||(c=D(t,"load",e[1]),u=!0)},p:h,i:h,o:h,d(a){m(t),a&&m(r),a&&m(o),e[3](null),u=!1,c()}}}function ye(e,t,n){let{trace:r}=t,o,i=[r];const u={plot_bgcolor:"#252525",paper_bgcolor:"#252525"};function c(){Plotly.newPlot(o,i,u)}function a(l){q[l?"unshift":"push"](()=>{o=l,n(0,o)})}return e.$$set=l=>{"trace"in l&&n(2,r=l.trace)},[o,c,r,a]}class $e extends z{constructor(t){super(),R(this,t,ye,ge,F,{trace:2})}}function H(e){let t,n;return t=new $e({props:{trace:e[1]}}),{c(){Y(t.$$.fragment)},m(r,o){J(t,r,o),n=!0},p(r,o){const i={};o&2&&(i.trace=r[1]),t.$set(i)},i(r){n||(b(t.$$.fragment,r),n=!0)},o(r){C(t.$$.fragment,r),n=!1},d(r){M(t,r)}}}function be(e){let t,n,r,o=Object.keys(e[1]).length>0,i,u,c;function a(s){e[4](s)}let l={};e[2]!==void 0&&(l.url=e[2]),t=new me({props:l}),q.push(()=>de(t,"url",a)),t.$on("loadStat",e[3]);let f=o&&H(e);return{c(){Y(t.$$.fragment),r=P(),f&&f.c(),i=P(),u=W(e[0])},m(s,d){J(t,s,d),v(s,r,d),f&&f.m(s,d),v(s,i,d),v(s,u,d),c=!0},p(s,[d]){const _={};!n&&d&4&&(n=!0,_.url=s[2],ue(()=>n=!1)),t.$set(_),d&2&&(o=Object.keys(s[1]).length>0),o?f?(f.p(s,d),d&2&&b(f,1)):(f=H(s),f.c(),b(f,1),f.m(i.parentNode,i)):f&&(fe(),C(f,1,1,()=>{f=null}),ae()),(!c||d&1)&&ne(u,s[0])},i(s){c||(b(t.$$.fragment,s),b(f),c=!0)},o(s){C(t.$$.fragment,s),C(f),c=!1},d(s){M(t,s),s&&m(r),f&&f.d(s),s&&m(i),s&&m(u)}}}async function ve(e="",t={}){return(await fetch(e,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)})).json()}function we(e,t,n){let r=localStorage.getItem("api-key"),o="",i={},u;if(r===null||r==="null"||r.length<1){let l=prompt("Api key?");localStorage.setItem("api-key",l),window.location.reload()}function c(l){const f=l.detail.url;f.length<1||(n(1,i={}),ve(`https://chromeuxreport.googleapis.com/v1/records:queryRecord?key=${r}`,{origin:f}).then(s=>{console.log(s);try{let d=s.record.metrics.experimental_time_to_first_byte.histogram,_=[],k=[];for(let S=0;S<d.length;S++)_.push(`${d[S].start}-${d[S].end}`),k.push(d[S].density*100);n(1,i={marker:{color:"rgba(100,100,100,1)"},x:_,y:k,type:"bar"})}catch{n(0,o=JSON.stringify(s))}}))}function a(l){u=l,n(2,u)}return[o,i,u,c,a]}class Ee extends z{constructor(t){super(),R(this,t,we,be,F,{})}}new Ee({target:document.getElementById("app")});
